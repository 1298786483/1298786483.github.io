<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例 | 防微杜渐的博客</title><meta name="keywords" content="教程,NEU,IPv6,免流,Hysteria2"><meta name="author" content="JianFang"><meta name="copyright" content="JianFang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例"><meta name="application-name" content="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例"><meta property="og:url" content="https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/index.html"><meta property="og:site_name" content="防微杜渐的博客"><meta property="og:description" content="风险提示（免责声明）本文仅供计算机网络技术研究与学术交流使用。请务必遵守《中华人民共和国网络安全法》及《东北大学校园网用户管理办法》。请勿将本教程用于非法用途，请勿在寝室大规模传播或进行商业牟利。由此产生的一切后果（包括但不限于账号封禁、请喝茶、写检讨）由使用者自行承担。   前言：关于白嫖的艺术与"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://edu-cloud.tech/images/xiyangyang.png"><meta property="article:author" content="JianFang"><meta property="article:tag" content="Hexo, 博客, 技术, 笔记"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://edu-cloud.tech/images/xiyangyang.png"><meta name="description" content="风险提示（免责声明）本文仅供计算机网络技术研究与学术交流使用。请务必遵守《中华人民共和国网络安全法》及《东北大学校园网用户管理办法》。请勿将本教程用于非法用途，请勿在寝室大规模传播或进行商业牟利。由此产生的一切后果（包括但不限于账号封禁、请喝茶、写检讨）由使用者自行承担。   前言：关于白嫖的艺术与"><link rel="shortcut icon" href="/favicon.jpg"><link rel="canonical" href="https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="VS_OL6wNx9p2pDvnlTmGHm_GNscWAHWObvvcDI7SCog"/><meta name="baidu-site-verification" content="codeva-F3qb0kaxeQ"/><meta name="msvalidate.01" content="1880D8A0526593B87CAC6F564E723DBC"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: JianFang","link":"链接: ","source":"来源: 防微杜渐的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '防微杜渐的博客',
  title: '校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例',
  postAI: '',
  pageFillDescription: '前言：关于白嫖的艺术与科学, 第一章 环境侦察：寻找那个被上帝遗忘的后门, 1.1 理论基础：CERNET 的馈赠, 1.2 资格审查：验证你的偷渡资格, 第二章 军火采购：服务器（VPS）的选择与避坑, 2.1 DigitalOcean 注册避坑指南, 准备工作, 注册流程, 第三章 创建云主机：打造你的专属基站, 3.1 启动 Droplet, 3.2 关键配置（一步都不能错）, 3.3 验货与连接：别急着部署, 第四章 服务端部署：从裸机到黑洞中转站, 4.0 准备工作：确认你真的是在服务器上, 4.1 首次登陆必修课：更新系统 amp 安装基础工具, 这两条命令在干嘛？, 4.2 一键安装 Hysteria 2：懒人专属通关路线, 这行到底做了什么？, 4.3 交互式安装向导：一路狂按 1 的艺术, Step 1：选择安装, Step 2：选择证书类型（自签证书）, Step 3：填写端口号（爱多少填多少）, Step 4：其他参数——默认就行流选手专属, Step 5：设置密码（长一点乱一点）, Step 6：混淆域名（不想填就用 bing）, 4.4 安装完成：这就是你的通行证, 4.5 忘记配置怎么办？别慌nano 救你, nano 的基本操作（3 个键就够用）, 第五章 客户端落地：Clash Verge Rev 把隧道接到你电脑上, 5.1 初次上手：Clash Verge Rev 基础设置, 5.1.1 打开设置面板, ① Clash 内核：必须是 Mihomo x2F Meta, ② 开启 IPv6 支持（非常关键）, ③ 端口和模式（保持默认即可）, 5.2 导入我们手搓好的 YAML 配置, 5.2.1 导入本地配置文件, 5.3 代理页面：看到你的服务器上线, 5.4 真正生效：系统托盘中的总开关, 5.4.1 规则模式：日常使用推荐组合, 5.5 TUN 模式：从浏览器免流升级到全局免流, 5.5.1 打开 TUN 模式, 5.6 验证免流效果：不是心理安慰而是实打实测出来的, 5.6.1 用 Clash 内置测试, 5.6.2 用网站确认 IPv6 出口, 5.6.3 最关键的一步：看校园网计费后台, 5.7 小结：你现在已经拥有了什么？, 第六章 常见问题 (FAQ), 结语, 参考文献风险提示免责声明本文仅供计算机网络技术研究与学术交流使用请务必遵守中华人民共和国网络安全法及东北大学校园网用户管理办法请勿将本教程用于非法用途请勿在寝室大规模传播或进行商业牟利由此产生的一切后果包括但不限于账号封禁请喝茶写检讨由使用者自行承担前言关于白嫖的艺术与科学在这个流量比金子还贵的年代每一个的月底账单里都藏着一部血泪史面对计费免费这种一国两制的策略一个伟大的念头不可避免地浮现能不能把所有流量都伪装成实现合法的零元购答案是肯定的这不仅仅是一次省钱的尝试更是一场关于协议拥塞控制与反策略的硬核技术探险准备好了吗系好安全带我们要飙车了搞机历程第一章环境侦察寻找那个被上帝遗忘的后门理论基础的馈赠首先我们要感谢中国教育网为了推广教育网制定了流量免费的神仙政策对于东北大学网络中心来说计费系统通常部署在网关上而数据包往往直接绕过了计费模块这就是我们的阿基米德支点只要我们将所有流量都伪装进的隧道里就能在计费系统的眼皮子底下通过实现合法的零元购资格审查验证你的偷渡资格理论归理论但在你准备大干一场之前我们得先确认你寝室的网口是不是纯正的这就好比你想去霍格沃茨首先得确信自己收到了猫头鹰送来的信物理连接与状态检查首先给你的电脑接入校园网插网线或者连寝室路由器的接下来请打开控制面板网络和共享中心或者直接点击任务栏右下角的网络图标进入网络属性我们要找的是连接的状态图见证奇迹的时刻盯着这里看解读命运的判决这里有两种情况决定了你接下来的命运情况天选之子连接显示或者访问恭喜这说明校园网确实支持且你的设备已经成功获取了地址通往自由的大门已为你打开请直接跳转下一章情况也就是个普通人连接显示无网络访问或别急着哭这不代表没救了可能是你的路由器没开或者光猫配置有问题折腾一下路由器设置通常能解决避坑指南重要这里有个深坑无数先烈曾在此翻车请务必注意你连接的热点类型校园网通常分为两种覆盖模式公用热点全校覆盖的没有密码需网页认证的比如或私有热点你在寝室或实验室自己买个路由器接墙上端口发出的警报学校网管也不是吃素的公用的热点通常并不支持或者做了严格隔离反正据我实测我们学校是这样的可能是怕校外人员蹭网太容易吧如果你连着图书馆的却死活搞不通不要怀疑人生请乖乖回寝室插网线或者连自己的路由器第二章军火采购服务器的选择与避坑要实现转发你需要一台拥有双栈的服务器注册避坑指南很多同学拿到学生包后兴冲冲去注册结果还没创建服务器号就没了的风控算法把你看作了羊毛党这里有一份保姆级避坑指南准备工作确保你已经通过了认证这里我们不过多讲述感兴趣可以看我另一篇文章支付方式你需要一张信用卡国内银行的双币卡即可或者但是需要先充值美元进去作为保护费这美元可以作为你的资金有时候运气好可以绑定支付宝甚至不用绑定任何支付方式就能奔放注册流程隐身模式打开无痕模式清除所有确保环境纯净入口选择通过学生包页面点击的链接跳转或者在注册页面的栏手动输入提供的码身份验证关键填写真实姓名拼音必须与信用卡持卡人一致不要填网名绑定信用卡时会进行的预授权扣款验证会退还听天由命点击情况直接进入控制台恭喜你通关了情况显示别慌去发工单诚恳地说附上学生证照片通常小时解封确认羊毛划到最下面就能看到的刀当购买服务器的时候就会优先使用这刀第三章创建云主机打造你的专属基站既然账号到手资金到位现在就开始创建我们的免流基站启动登录你的账户点击右上角那个显眼的绿色按钮选择云主机这就好比在游戏中创建角色关键配置一步都不能错这里有几个核心参数关系到你的免流体验选择区域国家选择新加坡理由物理距离决定延迟实测新加坡节点对国内教育网优化较好网速最快美国旧金山也可以但延迟会稍高选择系统镜像推荐选择提供了等多种选择但社区资源最丰富对于新手来说遇到问题最容易搜到答案选择套餐类型选择配置选择规格直接选最便宜的即可通常是或每月理由免流服务本身不吃配置最烂的和内存足矣流量通常自带对于个人使用来说极其充裕除非你小时挂着下设置密码选择设置一个复杂的密码开启生死攸关的一步点开高级选项勾选勾选勾选重要的事情说三遍必须在高级选项里开启如果这里没勾选你买的就是个纯服务器校园网免流直接失败还得删了重建验货与连接别急着部署当服务器状态变成绿色的小圆点说明它已经启动了此时控制面板会显示它的地址抽卡环节测试在开始复杂的配置之前我们先检查一下这台服务器的体质如果运气不好随机到了被墙的或者线路极差的现在的努力都是白费复制面板上显示的地址在你的电脑上打开命令行输入以下命令你的地址观察结果优质延迟在之间丢包率保留使用劣质延迟超过或者出现请求超时丢包销毁重开无法连接完全不通销毁重开连接服务器确认线路没问题后打开你的工具推荐或者官方的主机填入服务器端口用户名密码刚才设置的密码连接成功后你将看到黑底白字的终端恭喜你准备工作全部完成第四章服务端部署从裸机到黑洞中转站前面几章我们聊了半天理论选服务器搞双栈终于要动手实操了这一章的目标只有一个把你那台刚开出来的从一块白板变成一个能把校园网流量吞进去再从吐出来的中转站放心不需要你精通更不需要你会写服务只要你认得回车键基本就够了准备工作确认你真的是在服务器上先确保两件事你已经通过连上了自带你的都行终端直接你的登录账号一般是密码是你在创建服务器时设置的那个登录成功后你应该能看到类似这样的提示看到这个井号说明你现在已经是这台机器的最高权限掌控者了也是最容易一条命令把自己干崩的那种首次登陆必修课更新系统安装基础工具刚刚开出来的服务器就像刚装完系统的电脑能用但不太安全也不太新所以我们第一步是更新系统组件安装常用工具在终端里依次执行可以一段一段复制更新软件源等同于检查更新安装和这两个基础组件这两条命令在干嘛通知系统去看看软件仓库里有什么新版本的意思是别每次都问我要不要全部自动同意命令行界的浏览器后面一键脚本要靠它来下载虽然你现在用的是但装上它总没坏处防止以后切普通用户的时候派上用场执行过程中屏幕会刷一堆英文字母这是正常现象只要最后没有红彤彤的大段就当它成功了一键安装懒人专属通关路线接下来进入本章灵魂部分一键脚本在终端里复制下面这一整行按回车这行到底做了什么前半段去把脚本文件下载下来名字叫后半段下载成功后立刻用把这个脚本跑起来如果网络正常你会看到一个蓝色绿色的脚本菜单弹出来上面写着一堆选项类似一键安装脚本安装卸载查看配置请输入选项交互式安装向导一路狂按的艺术下面是你要做的所有操作我一句一句写出来你照着点就行选择安装脚本问你请输入选项输入然后回车这一步就是选安装选择证书类型自签证书很快它会问你要用什么证书大概长这样请选择证书类型自签证书使用申请证书需要域名请输入选项这里我们走最稳最省心的一条路自签证书输入然后回车对应到你的提纲选自签证书为什么不用域名你要有域名你要会解析证书会过期还要续签我们只是要一个校园网中转完全没必要搞那么复杂填写端口号爱多少填多少接着脚本会问请输入端口默认这里你可以要么直接回车用默认的一般是要么输入一个你自己喜欢的端口比如然后回车建议如果你是常规端口基本随便选都行如果你打算伪装成正常流量可以直接用其他参数默认就行流选手专属接下来脚本会依次问你一些问题比如协议模式版本收发带宽预设某些进阶参数照着你的要求这里基本可以一路回车用默认对应你的笔记默认就行也就是说只要它没有红字警告你这个必须填你就可以淡定地按回车键跳过设置密码长一点乱一点很快它会问你要设置一个密码大概长这样请输入连接密码这里你可以随便敲一串字符然后回车不强制你记住忘了也没事后面可以在配置文件里再看但请尽量长一点混合大小写字母数字符号不要用这种糊弄人的密码对应你的提示密码随便填忘了也没事足够长就行混淆域名不想填就用再往下它会问你请输入用于混淆的域名默认这里有三种打法按回车直接用默认直接回车手动输入一个正常网站域名比如你也可以用其他常见大厂域名比如对应你的说明混淆的网址默认也行或者就填完回车脚本会继续执行开始自动安装期间会下载二进制生成证书写配置文件注册服务等一条龙操作此时你可以选择盯着终端里绿油油的或者起身去倒杯水给自己一点仪式感安装完成这就是你的通行证当脚本欢快地跑完之后一般会输出一段类似这样的东西示意已安装完成服务器地址端口密码指纹协议配置文件路径客户端模板请妥善保存以上信息用于客户端配置这段输出就是你后面在里要抄的全部家底地址必须带方括号使用端口密码指纹建议立刻做三件事把这段信息复制到本地记事本存起来截一张窗口的截图心里默念一句管你计费系统几层套娃反正你看不到我忘记配置怎么办别慌救你人总有手滑的时候终端一关刚刚那堆配置输出就没了没关系脚本早就帮你把配置文件存在服务器本地了如果你想重新查看尤其是客户端模板配置在终端中执行对应你的原话这就是我们的配置信息了如果你忘记了配置信息可以用的指令来重新查看重新打开就像这样执行后你会进入一个文本编辑器界面内容大概是这样的示意不是你真实的配置的基本操作个键就够用上下左右方向键移动光标浏览不想改只是看看直接按就能退出如果你不小心改了东西它会问你你可以按不保存修改原样退出按保存修改然后回车确认文件名第五章客户端落地把隧道接到你电脑上前一章我们已经在远方的上架好了黑洞中转站这一章要做的事就一句话把那台服务器优雅地接入你的电脑让所有该免流的流量都钻进隧道里这里依旧贯彻一个宗旨不折腾花活只把关键地方讲清楚本章以为例后文简称如果你还没下载可以去它的页面按自己系统版本下一个均支持也有专门的版本初次上手基础设置第一次打开先别急着导入配置我们先把底层开关拨对打开设置面板启动左侧菜单点一下设置齿轮图标你会看到一堆选项大概类似你截图里的那个界面重点关注几个地方内核必须是找到内核或相关选项确保显示的是有的版本叫核心如果旁边有下载按钮点一下让它自动下载安装没这个内核就算配置得再好也启动不了开启支持非常关键在常规设置网络设置里找到类似启用之类的选项勾上它你用的是入口的隧道客户端如果不认那相当于你在世界里对着空气大喊端口和模式保持默认即可代理端口一般默认端口一般默认这些我们在里也填了同样的端口正常情况下别改你是第一次用就按默认来不会出错导入我们手搓好的配置前一章你已经在服务器上拿到了配置信息然后在本地编辑器里写了一个类似这样的配置文件你的密码你的指纹节点选择节点选择假设你已经把这个文件保存在本地叫接下来我们要把它拖进导入本地配置文件打开左侧点击配置或订阅标签页找到一个类似导入配置从本地导入的区域这时候你可以直接把刚刚写好的文件从桌面资源管理器里拖到软件窗口里松手之后你会在列表里看到一个新的配置条目上面写着你文件名或你写在顶部的名称右键这个配置检查一下是否有类似启用设为当前配置编辑文件先点启用使用该配置让切换到这份我们写好的代理页面看到你的服务器上线启用配置之后点击左侧代理面板你应该能看到一个名字叫的节点就是我们在里给他取的因为我们示例配置里只写了一个节点一个代理组节点选择所以节点选择这个组里只有两个选项你可以点击一下让它变成当前选中节点看看右侧上方是否有测速延迟测试按钮点一下会帮你对服务器一下如果延迟在左右说明你和之间的线路还算正常服务端工作正常校园网的也没抽风真正生效系统托盘中的总开关只在里选了节点还不算完要真正让你的浏览器软件走代理还得把系统代理打开规则模式日常使用推荐组合在右下角托盘区域你会看到一个图标右键这个图标会弹出一个菜单全局规则直连模式视版本而定开启系统代理关闭系统代理推荐日常设置选择规则模式勾选系统代理这里的规则模式用的就是我们在里写好的那几条规则校内网段校园域名直连不走代理不绕地球其他外网走隧道换句话说只有该免流的走隧道不该绕的教务处就老老实实直连模式从浏览器免流升级到全局免流默认只开系统代理时走代理的通常是浏览器尊重系统代理设置的软件但还有一类软件命令行工具如某些国产客户端直接绕过系统代理游戏启动器下载器这些家伙根本不鸟系统代理设置这时就要祭出的大杀器模式打开模式在里一般有两种入口在软件内设置中找到选项勾选启用或者在系统托盘里右键图标有单独的模式勾选项勾上之后会在本地创建一个虚拟网卡所有数据包统统先经过再根据规则决定走直连走代理这样一来浏览器流量走免流命令行也走免流下载也能走隧道顺便躲一躲校园网各种神秘对应你的原话这样就连命令行都走的免流妈妈再也不用担心我下载包超时啦验证免流效果不是心理安慰而是实打实测出来的用内置测试在的测试测试面板里通常有延迟测试下载速度测试节点可用性测试你可以随便点一个速度连通性测试看节点是否稳定用网站确认出口打开浏览器访问测试网站观察页面上显示的你的地址你的地址优先使用的是哪一个在理想情况下你会看到能够成功访问对外出口是你的地址或你运营商后的这说明你的所有请求已经通过隧道从出口出去了最关键的一步看校园网计费后台登录学校的校园网自助管理流量查询系统开着站下载器跑几分钟刷新页面观察本月已用流量如果你只开启了规则模式不在本机上同时开别的直连下载但计费系统的流量几乎不动或者只涨一点点心跳值那就只剩一个解释计费系统只能看到你那点心跳流量真正吃带宽的是那条隧道而在计费系统眼里透明人此时你就可以掏出一本计算机网络翻到计费架构那一章心平气和地补一页读后感了小结你现在已经拥有了什么到第五章结束你已经正确装好了核心启用了支持导入并启用了你自己写的配置能在代理面板里看到并正常测试延迟学会了用规则模式系统代理进行日常免流用模式把所有程序都塞进隧道里会用和学校计费后台实打实验证免流效果换句话说你已经不只是一个会连校园网的人而是一个能熟练驾驭隧道协议本地代理栈的合格网络炼金术学徒现在你已经学会了校园网免流的完整闭环第章知道为什么这玩意能免流第章知道去哪弄一台外面的服务器第章会在上一键装第章会在本机用把隧道接起来接下来要做的事情就一句话找个你平时最爱刷的网站最爱下的游戏打开规则模式一边爽用一边默默祈祷愿网管永远懒得给上计费脚本以上内容仅供技术学习与协议研究使用请务必遵守校园网使用条例与相关法律法规第六章常见问题我配置完了但是完全连不上检查时间对时间非常敏感请确保电脑和服务器的时间误差在秒以内检查防火墙服务器提供商如的后台控制面板里是否放行了端口服务器内部的是否放行了检查你的寝室网口真的有吗在输入看看有没有地址速度很快但是玩游戏跳是基于的虽然暴力但对游戏这种对抖动敏感的应用不太友好建议游戏时关闭系统代理使用专业的游戏加速器通常走模式或者在规则里把游戏域名直连结语配置完这一切看着面板上跳动的速率你可能会有一种战胜了体制的快感但这不仅仅是为了省那几十块钱网费在这个过程中你学会了基础理解了的区别搞懂了证书体系这些知识比你在计算机网络课上睡一觉学到的要多得多最后更新于年月若学校修补漏洞本教程原地自爆参考文献东北大学六维空间吸引用户校园网虚空终端',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-21 03:57:20',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 8.1.1"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">防微杜渐的博客</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/images/qrcode-wechat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-wechat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/images/qrcode-alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-alipay.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Anzhiyu/" style="font-size: 1.05rem;">Anzhiyu<sup>1</sup></a><a href="/tags/GitHub-Pages/" style="font-size: 1.05rem;">GitHub Pages<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/Hysteria2/" style="font-size: 1.05rem;">Hysteria2<sup>1</sup></a><a href="/tags/IPv6/" style="font-size: 1.05rem;">IPv6<sup>1</sup></a><a href="/tags/NEU/" style="font-size: 1.05rem;">NEU<sup>2</sup></a><a href="/tags/PFC5-0/" style="font-size: 1.05rem;">PFC5.0<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>1</sup></a><a href="/tags/%E5%85%8D%E6%B5%81/" style="font-size: 1.05rem;">免流<sup>1</sup></a><a href="/tags/%E5%8D%95%E8%BD%B4%E5%8E%8B%E7%BC%A9/" style="font-size: 1.05rem;">单轴压缩<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">教程<sup>3</sup></a><a href="/tags/%E6%95%B0%E5%80%BC%E6%A8%A1%E6%8B%9F/" style="font-size: 1.05rem;">数值模拟<sup>1</sup></a><a href="/tags/%E9%A2%84%E7%BA%A6/" style="font-size: 1.05rem;">预约<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A1%AC%E6%A0%B8%E6%8A%80%E6%9C%AF/" itemprop="url">硬核技术</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>教程</span></a><a class="article-meta__tags" href="/tags/NEU/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>NEU</span></a><a class="article-meta__tags" href="/tags/IPv6/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>IPv6</span></a><a class="article-meta__tags" href="/tags/%E5%85%8D%E6%B5%81/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>免流</span></a><a class="article-meta__tags" href="/tags/Hysteria2/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Hysteria2</span></a></span></div></div><h1 class="post-title" itemprop="name headline">校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-11-20T19:57:20.000Z" title="发表于 2025-11-21 03:57:20">2025-11-21</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-11-20T19:57:20.000Z" title="更新于 2025-11-21 03:57:20">2025-11-21</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">7.2k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><article class="post-content" id="article-container" itemscope itemtype="https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/"><header><a class="post-meta-categories" href="/categories/%E7%A1%AC%E6%A0%B8%E6%8A%80%E6%9C%AF/" itemprop="url">硬核技术</a><a href="/tags/%E6%95%99%E7%A8%8B/" tabindex="-1" itemprop="url">教程</a><a href="/tags/NEU/" tabindex="-1" itemprop="url">NEU</a><a href="/tags/IPv6/" tabindex="-1" itemprop="url">IPv6</a><a href="/tags/%E5%85%8D%E6%B5%81/" tabindex="-1" itemprop="url">免流</a><a href="/tags/Hysteria2/" tabindex="-1" itemprop="url">Hysteria2</a><h1 id="CrawlerTitle" itemprop="name headline">校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">JianFang</span><time itemprop="dateCreated datePublished" datetime="2025-11-20T19:57:20.000Z" title="发表于 2025-11-21 03:57:20">2025-11-21</time><time itemprop="dateCreated datePublished" datetime="2025-11-20T19:57:20.000Z" title="更新于 2025-11-21 03:57:20">2025-11-21</time></header><div class="note warning flat"><p><strong>风险提示（免责声明）</strong><br>本文仅供计算机网络技术研究与学术交流使用。请务必遵守《中华人民共和国网络安全法》及《东北大学校园网用户管理办法》。请勿将本教程用于非法用途，请勿在寝室大规模传播或进行商业牟利。由此产生的一切后果（包括但不限于账号封禁、请喝茶、写检讨）由使用者自行承担。</p>
</div>

<h2 id="前言：关于白嫖的艺术与科学"><a href="#前言：关于白嫖的艺术与科学" class="headerlink" title="前言：关于白嫖的艺术与科学"></a>前言：关于白嫖的艺术与科学</h2><p>在这个流量比金子还贵的年代，每一个 NEUer 的月底账单里都藏着一部血泪史。面对 IPv4 计费、IPv6 免费这种“一国两制”的策略，一个伟大的念头不可避免地浮现：<strong>能不能把所有流量都伪装成 IPv6，实现合法的“零元购”？</strong></p>
<p>答案是肯定的。这不仅仅是一次省钱的尝试，更是一场关于 <strong>Hysteria 2 协议</strong>、<strong>QUIC 拥塞控制</strong> 与 <strong>反 DPI 策略</strong> 的硬核技术探险。</p>
<p>准备好了吗？系好安全带，我们要飙车了。</p>
<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>搞机历程</p>
</div></div></div></div>

<h2 id="第一章-环境侦察：寻找那个被上帝遗忘的后门"><a href="#第一章-环境侦察：寻找那个被上帝遗忘的后门" class="headerlink" title="第一章 环境侦察：寻找那个被上帝遗忘的后门"></a>第一章 环境侦察：寻找那个被上帝遗忘的后门</h2><h3 id="1-1-理论基础：CERNET-的馈赠"><a href="#1-1-理论基础：CERNET-的馈赠" class="headerlink" title="1.1 理论基础：CERNET 的馈赠"></a>1.1 理论基础：CERNET 的馈赠</h3><p>首先，我们要感谢中国教育网（CERNET）。为了推广 IPv6，教育网制定了 <strong>IPv6 流量免费</strong> 的神仙政策。</p>
<p>对于东北大学网络中心来说，计费系统通常部署在 IPv4 网关上，而 IPv6 数据包往往直接绕过了计费模块。这就是我们的阿基米德支点——<strong>只要我们将所有流量都伪装进 IPv6 的隧道里，就能在计费系统的眼皮子底下通过，实现合法的“零元购”。</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/ipv4-ipv6.png" class="" title="原理图：本地通过IPv6隧道连接VPS">


<h3 id="1-2-资格审查：验证你的“偷渡”资格"><a href="#1-2-资格审查：验证你的“偷渡”资格" class="headerlink" title="1.2 资格审查：验证你的“偷渡”资格"></a>1.2 资格审查：验证你的“偷渡”资格</h3><p>理论归理论，但在你准备大干一场之前，我们得先确认你寝室的网口是不是“纯正”的。这就好比你想去霍格沃茨，首先得确信自己收到了猫头鹰送来的信。</p>
<p><strong>Step 1：物理连接与状态检查</strong></p>
<p>首先，给你的电脑接入校园网（插网线或者连寝室路由器的 WiFi）。</p>
<p>接下来，请打开 <code>控制面板</code> -&gt; <code>网络和共享中心</code>，或者直接点击任务栏右下角的网络图标，进入 <code>网络属性</code>。我们要找的是 <strong>IPv6 连接</strong> 的状态。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/ipv6.png" class="" title="Windows网络状态界面，IPv6连接状态">
<p><em>(图：见证奇迹的时刻，盯着这里看)</em></p>
<p><strong>Step 2：解读命运的判决</strong></p>
<p>这里有两种情况，决定了你接下来的命运：</p>
<ul>
<li><strong>情况 A（天选之子）</strong>：IPv6 连接显示 <strong>“Internet”</strong>（或者“Internet 访问”）。<ul>
<li>🎉 <strong>恭喜！</strong> 这说明校园网确实支持 IPv6，且你的设备已经成功获取了地址。通往自由的大门已为你打开，请直接跳转下一章。</li>
</ul>
</li>
<li><strong>情况 B（也就是个普通人）</strong>：IPv6 连接显示 <strong>“无网络访问”</strong> 或 <strong>“No Internet Access”</strong>。<ul>
<li>😭 <strong>别急着哭</strong>。这不代表没救了，可能是你的路由器没开 IPv6，或者光猫配置有问题。折腾一下路由器设置通常能解决。</li>
</ul>
</li>
</ul>
<p><strong>Step 3：避坑指南（重要！）</strong></p>
<p>这里有个深坑，无数先烈曾在此翻车。</p>
<p><strong>请务必注意你连接的热点类型！</strong></p>
<p>校园网通常分为两种覆盖模式：</p>
<ol>
<li><strong>公用热点（Public WiFi）</strong>：全校覆盖的、没有密码需网页认证的（比如 <code>NEU-WiFi</code> 或 <code>Eduroam</code>）。</li>
<li><strong>私有热点（Dorm&#x2F;Lab WiFi）</strong>：你在寝室或实验室自己买个路由器接墙上端口发出的 WiFi。</li>
</ol>
<div class="note danger simple"><p><strong>警报</strong>：学校网管也不是吃素的。<strong>公用的热点（Public WiFi）通常并不支持 IPv6，或者做了严格隔离！</strong></p>
</div>

<p>反正据我实测，我们学校是这样的（可能是怕校外人员蹭网太容易吧）。如果你连着图书馆的 WiFi 却死活搞不通 IPv6，不要怀疑人生，<strong>请乖乖回寝室插网线或者连自己的路由器</strong>。</p>
<h2 id="第二章-军火采购：服务器（VPS）的选择与避坑"><a href="#第二章-军火采购：服务器（VPS）的选择与避坑" class="headerlink" title="第二章 军火采购：服务器（VPS）的选择与避坑"></a>第二章 军火采购：服务器（VPS）的选择与避坑</h2><p>要实现转发，你需要一台拥有 <strong>IPv4 + IPv6 双栈</strong> 的服务器。</p>
<div class="tabs" id="vps_choices"><ul class="nav-tabs no-default"></ul><div class="tab-contents"></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div>

<h3 id="2-1-DigitalOcean-注册避坑指南"><a href="#2-1-DigitalOcean-注册避坑指南" class="headerlink" title="2.1 DigitalOcean 注册避坑指南"></a>2.1 DigitalOcean 注册避坑指南</h3><p>很多同学拿到 GitHub 学生包后，兴冲冲去注册 DigitalOcean (DO)，结果还没创建服务器号就没了。DO 的风控算法把你看作了“羊毛党”。这里有一份保姆级避坑指南。</p>
<h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><ol>
<li><strong>GitHub Student Developer Pack</strong>：确保你已经通过了认证，这里我们不过多讲述，感兴趣可以看我另一篇文章。</li>
<li><strong>支付方式</strong>：你需要一张 Visa&#x2F;MasterCard 信用卡（国内银行的双币卡即可）。或者 PayPal，但是需要先充值 $5 美元进去作为保护费，这5美元可以作为你的资金（有时候运气好可以绑定支付宝，甚至不用绑定任何支付方式就能奔放）。</li>
</ol>
<h4 id="注册流程"><a href="#注册流程" class="headerlink" title="注册流程"></a>注册流程</h4><p><strong>Step 1：隐身模式</strong><br>打开 Chrome 无痕模式（Ctrl+Shift+N），清除所有 Cookies，确保环境纯净。</p>
<p><strong>Step 2：入口选择</strong><br>通过 GitHub 学生包页面点击 DigitalOcean 的链接跳转，或者在注册页面的 Promo Code 栏手动输入 GitHub 提供的码。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/digital0.png" class="" title="链接跳转">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/digital1.png" class="" title="登录">

<p><strong>Step 3：身份验证 (关键)</strong><br>填写真实姓名（拼音），必须与信用卡持卡人一致。不要填网名！绑定信用卡时，DO 会进行 $1 的预授权扣款验证（会退还）。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/verify.png" class="" title="验证">

<p><strong>Step 4：听天由命</strong><br>点击 “Sign Up”。</p>
<ul>
<li><strong>情况 A</strong>：直接进入控制台 -&gt; 恭喜，你通关了。</li>
<li><strong>情况 B</strong>：显示 “Account Locked” -&gt; 别慌，去 <a target="_blank" rel="noopener" href="https://cloud.support.digitalocean.com/">DO Support</a> 发工单。诚恳地说：”I am a student from Northeastern University using GitHub Student Pack. Here is my student ID.” 附上学生证照片，通常 24 小时解封。</li>
</ul>
<p><strong>Step 5：确认羊毛</strong><br>划到最下面，就能看到 github 的 200 刀，当购买服务器的时候就会优先使用这 200 刀。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/digital-billing.png" class="" title="200刀查看">

<h2 id="第三章-创建云主机：打造你的专属基站"><a href="#第三章-创建云主机：打造你的专属基站" class="headerlink" title="第三章 创建云主机：打造你的专属基站"></a>第三章 创建云主机：打造你的专属基站</h2><p>既然账号到手，资金到位，现在就开始创建我们的“免流基站”。</p>
<h3 id="3-1-启动-Droplet"><a href="#3-1-启动-Droplet" class="headerlink" title="3.1 启动 Droplet"></a>3.1 启动 Droplet</h3><p>登录你的 DigitalOcean 账户，点击右上角那个显眼的绿色按钮 <strong>Create</strong>，选择 <strong>Droplets</strong>（云主机）。这就好比在游戏中创建角色。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/create-droplet.png" class="" title="创建Droplet按钮">

<h3 id="3-2-关键配置（一步都不能错）"><a href="#3-2-关键配置（一步都不能错）" class="headerlink" title="3.2 关键配置（一步都不能错）"></a>3.2 关键配置（一步都不能错）</h3><p>这里有几个核心参数，关系到你的免流体验：</p>
<ol>
<li><p><strong>选择区域 (Region)</strong>：</p>
<ul>
<li>国家选择 <strong>新加坡 (Singapore)</strong>。</li>
<li><em>理由</em>：物理距离决定延迟。实测新加坡节点对国内教育网优化较好，网速最快。美国旧金山也可以，但延迟会稍高。</li>
</ul>
</li>
<li><p><strong>选择系统镜像 (Choose an Image)</strong>：</p>
<ul>
<li>推荐选择 <strong>Ubuntu 22.04 (LTS) x64</strong>。</li>
<li>DigitalOcean 提供了 FreeBSD、Fedora、Debian、CentOS 等多种选择，但 Ubuntu 社区资源最丰富，对于新手来说，遇到问题最容易搜到答案。</li>
</ul>
</li>
<li><p><strong>选择套餐 (Choose a plan)</strong>：</p>
<ul>
<li>类型：选择 <strong>Shared CPU</strong> -&gt; <strong>Basic</strong>。</li>
<li>配置：选择 <strong>Regular Intel with SSD</strong>。</li>
<li>规格：直接选最便宜的即可（通常是 $4 或 $6 每月）。</li>
<li><em>理由</em>：免流服务本身不吃配置，最烂的 CPU 和 512MB&#x2F;1GB 内存足矣。流量通常自带 1TB，对于个人使用来说极其充裕（除非你 24 小时挂着下 BT）。</li>
</ul>
</li>
<li><p><strong>设置密码 (Authentication)</strong>：</p>
<ul>
<li>选择 <strong>Password</strong>，设置一个复杂的 Root 密码。</li>
</ul>
</li>
<li><p><strong>开启 IPv6（生死攸关的一步）</strong>：</p>
<ul>
<li>点开 <strong>Advanced Options</strong>（高级选项）。</li>
<li><strong>勾选 IPv6</strong>。</li>
<li><strong>勾选 IPv6</strong>。</li>
<li><strong>勾选 IPv6</strong>。</li>
</ul>
</li>
</ol>
<div class="note danger modern"><p><strong>重要的事情说三遍</strong>：必须在高级选项里开启 IPv6！如果这里没勾选，你买的就是个纯 IPv4 服务器，校园网免流直接失败，还得删了重建。</p>
</div>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/gouxuanipv6.png" class="" title="勾选ipv6">

<h3 id="3-3-验货与连接：别急着部署"><a href="#3-3-验货与连接：别急着部署" class="headerlink" title="3.3 验货与连接：别急着部署"></a>3.3 验货与连接：别急着部署</h3><p>当服务器状态变成绿色的小圆点，说明它已经启动了。此时控制面板会显示它的 IP 地址。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/start.png" class="" title="控制面板概览">

<p><strong>Step 1：抽卡环节（Ping 测试）</strong></p>
<p>在开始复杂的配置之前，我们先检查一下这台服务器的体质。如果运气不好随机到了被墙的 IP 或者线路极差的 IP，现在的努力都是白费。</p>
<ol>
<li>复制面板上显示的 <strong>IPv6 地址</strong>。</li>
<li>在你的电脑上打开 CMD (命令行)，输入以下命令：<br><code>ping -t &lt;你的IPv6地址&gt;</code></li>
<li><strong>观察结果</strong>：<ul>
<li><strong>优质</strong>：延迟在 60ms - 150ms 之间，丢包率 0%。 -&gt; <strong>保留使用</strong>。</li>
<li><strong>劣质</strong>：延迟超过 300ms，或者出现 <code>Request timed out</code>（请求超时）丢包。 -&gt; <strong>销毁 (Destroy) 重开</strong>。</li>
<li><strong>无法连接</strong>：完全 Ping 不通。 -&gt; <strong>销毁重开</strong>。</li>
</ul>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/ping.png" class="" title="ping测试">

<p><strong>Step 2：连接服务器</strong></p>
<p>确认线路没问题后，打开你的 SSH 工具（推荐 <strong>FinalShell</strong>）或者官方的Droplet Console。</p>
<ul>
<li><strong>主机</strong>：填入服务器 IP。</li>
<li><strong>端口</strong>：22。</li>
<li><strong>用户名</strong>：root。</li>
<li><strong>密码</strong>：刚才设置的密码。</li>
</ul>
<p>连接成功后，你将看到黑底白字的 Linux 终端，恭喜你，准备工作全部完成！</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/start1.png" class="" title="Droplet Console按钮">

<h2 id="第四章-服务端部署：从裸机到“黑洞中转站”"><a href="#第四章-服务端部署：从裸机到“黑洞中转站”" class="headerlink" title="第四章 服务端部署：从裸机到“黑洞中转站”"></a>第四章 服务端部署：从裸机到“黑洞中转站”</h2><p>前面几章我们聊了半天理论、选服务器、搞双栈，终于要动手实操了。</p>
<p>这一章的目标只有一个：</p>
<blockquote>
<p>把你那台刚开出来的 VPS，从一块白板，变成一个能把校园网 IPv6 流量吞进去再从 IPv4 吐出来的 <strong>Hysteria 2 中转站</strong>。</p>
</blockquote>
<p>放心，不需要你精通 Linux，更不需要你会写 systemd 服务。<br>只要你认得 <strong>回车键</strong>，基本就够了。</p>
<hr>
<h3 id="4-0-准备工作：确认你真的是“在服务器上”"><a href="#4-0-准备工作：确认你真的是“在服务器上”" class="headerlink" title="4.0 准备工作：确认你真的是“在服务器上”"></a>4.0 准备工作：确认你真的是“在服务器上”</h3><p>先确保两件事：</p>
<ol>
<li>你已经通过 SSH 连上了 VPS  <ul>
<li>Windows：FinalShell &#x2F; Xshell &#x2F; Termius &#x2F; Powershell 自带 <code>ssh root@你的IP</code> 都行  </li>
<li>macOS &#x2F; Linux：终端直接 <code>ssh root@你的IP</code></li>
</ul>
</li>
<li>登录账号一般是 <code>root</code>，密码是你在创建服务器时设置的那个。</li>
</ol>
<p>登录成功后，你应该能看到类似这样的提示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@your-hostname:~#</span><br></pre></td></tr></table></figure>

<p>看到这个井号（<code>#</code>），说明你现在已经是这台机器的<strong>最高权限掌控者</strong>了（也是最容易一条命令把自己干崩的那种）。</p>
<hr>
<h3 id="4-1-首次登陆必修课：更新系统-安装基础工具"><a href="#4-1-首次登陆必修课：更新系统-安装基础工具" class="headerlink" title="4.1 首次登陆必修课：更新系统 &amp; 安装基础工具"></a>4.1 首次登陆必修课：更新系统 &amp; 安装基础工具</h3><p>刚刚开出来的服务器，就像刚装完系统的电脑：<br>能用，但不太安全，也不太新。</p>
<p>所以我们第一步是：</p>
<blockquote>
<p>更新系统组件 + 安装常用工具</p>
</blockquote>
<p>在 SSH 终端里依次执行（可以一段一段复制）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 更新软件源（等同于“检查更新”）</span></span><br><span class="line">apt update -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 安装 curl 和 sudo 这两个基础组件</span></span><br><span class="line">apt install curl <span class="built_in">sudo</span> -y</span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/aptupdate.png" class="" title="更新组件">

<h4 id="这两条命令在干嘛？"><a href="#这两条命令在干嘛？" class="headerlink" title="这两条命令在干嘛？"></a>这两条命令在干嘛？</h4><ul>
<li><p><code>apt update -y</code><br>通知系统：“去看看软件仓库里有什么新版本”。<br><code>-y</code> 的意思是：别每次都问我要不要，<strong>全部自动同意</strong>。</p>
</li>
<li><p><code>apt install curl sudo -y</code>  </p>
<ul>
<li><code>curl</code>：命令行界的浏览器，后面一键脚本要靠它来下载。  </li>
<li><code>sudo</code>：虽然你现在用的是 root，但装上它总没坏处，防止以后切普通用户的时候派上用场。</li>
</ul>
</li>
</ul>
<p>执行过程中屏幕会刷一堆英文字母，这是正常现象。<br><strong>只要最后没有红彤彤的大段 ERROR，就当它成功了。</strong></p>
<hr>
<h3 id="4-2-一键安装-Hysteria-2：懒人专属通关路线"><a href="#4-2-一键安装-Hysteria-2：懒人专属通关路线" class="headerlink" title="4.2 一键安装 Hysteria 2：懒人专属通关路线"></a>4.2 一键安装 Hysteria 2：懒人专属通关路线</h3><p>接下来进入本章灵魂部分：<strong>一键脚本</strong>。</p>
<p>在终端里复制下面这一整行，按回车：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh &amp;&amp; bash hysteria.sh</span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/Hy.png" class="" title="安装 Hysteria 2">

<h4 id="这行到底做了什么？"><a href="#这行到底做了什么？" class="headerlink" title="这行到底做了什么？"></a>这行到底做了什么？</h4><ul>
<li>前半段 <code>wget ... hysteria.sh</code>：<br>去 GitHub 把脚本文件下载下来，名字叫 <code>hysteria.sh</code>。</li>
<li>后半段 <code>&amp;&amp; bash hysteria.sh</code>：<br>下载成功后，立刻用 <code>bash</code> 把这个脚本跑起来。</li>
</ul>
<p>如果网络正常，你会看到一个蓝色&#x2F;绿色的脚本菜单弹出来，上面写着一堆选项，类似：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">====== Hysteria2 一键安装脚本 ======</span><br><span class="line">1) 安装 Hysteria 2</span><br><span class="line">2) 卸载</span><br><span class="line">3) 查看配置</span><br><span class="line">...</span><br><span class="line">请输入选项:</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="4-3-交互式安装向导：一路狂按-1-的艺术"><a href="#4-3-交互式安装向导：一路狂按-1-的艺术" class="headerlink" title="4.3 交互式安装向导：一路狂按 1 的艺术"></a>4.3 交互式安装向导：一路狂按 1 的艺术</h3><p>下面是你要做的所有操作，我一句一句写出来，你照着点就行。</p>
<h4 id="Step-1：选择“安装”"><a href="#Step-1：选择“安装”" class="headerlink" title="Step 1：选择“安装”"></a>Step 1：选择“安装”</h4><p>脚本问你：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入选项:</span><br></pre></td></tr></table></figure>

<p>输入：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure>

<p>然后回车。<br>这一步就是：<strong>选 1 安装</strong>。</p>
<hr>
<h4 id="Step-2：选择证书类型（自签证书）"><a href="#Step-2：选择证书类型（自签证书）" class="headerlink" title="Step 2：选择证书类型（自签证书）"></a>Step 2：选择证书类型（自签证书）</h4><p>很快，它会问你要用什么证书，大概长这样：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请选择证书类型：</span><br><span class="line">1) 自签证书 (Self-signed)</span><br><span class="line">2) 使用 ACME 申请证书（需要域名）</span><br><span class="line">请输入选项:</span><br></pre></td></tr></table></figure>

<p>这里我们走最稳、最省心的一条路：<strong>自签证书</strong>。</p>
<p>输入：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure>

<p>然后回车。<br>对应到你的提纲：<strong>选 1 自签证书</strong>。</p>
<blockquote>
<p>为什么不用 ACME + 域名？</p>
<ul>
<li>你要有域名</li>
<li>你要会解析 DNS</li>
<li>证书会过期，还要续签<br>我们只是要一个校园网中转，完全没必要搞那么复杂。</li>
</ul>
</blockquote>
<hr>
<h4 id="Step-3：填写端口号（爱多少填多少）"><a href="#Step-3：填写端口号（爱多少填多少）" class="headerlink" title="Step 3：填写端口号（爱多少填多少）"></a>Step 3：填写端口号（爱多少填多少）</h4><p>接着脚本会问：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入端口（默认 443）:</span><br></pre></td></tr></table></figure>

<p>这里你可以：</p>
<ul>
<li>要么直接回车，用默认的（一般是 443）</li>
<li>要么输入一个你自己喜欢的端口，比如：</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11451</span><br></pre></td></tr></table></figure>

<p>然后回车。</p>
<blockquote>
<p>建议：  </p>
<ul>
<li>如果你是 <strong>DigitalOcean &#x2F; RackNerd &#x2F; 常规 VPS</strong>：端口基本随便选，<code>11451</code>、<code>23333</code>、<code>15213</code> 都行  </li>
<li>如果你打算伪装成正常 HTTPS 流量，可以直接用 <code>443</code></li>
</ul>
</blockquote>
<hr>
<h4 id="Step-4：其他参数——“默认就行流”选手专属"><a href="#Step-4：其他参数——“默认就行流”选手专属" class="headerlink" title="Step 4：其他参数——“默认就行流”选手专属"></a>Step 4：其他参数——“默认就行流”选手专属</h4><p>接下来脚本会依次问你一些问题，比如：</p>
<ul>
<li>协议模式 &#x2F; QUIC 版本</li>
<li>收发带宽预设</li>
<li>某些进阶参数</li>
</ul>
<p><strong>照着你的要求：这里基本可以一路回车用默认。</strong></p>
<blockquote>
<p>对应你的笔记：</p>
<blockquote>
<p>默认就行</p>
</blockquote>
</blockquote>
<p>也就是说，只要它没有红字警告你“这个必须填”，你就可以淡定地按回车键跳过。</p>
<hr>
<h4 id="Step-5：设置密码（长一点，乱一点）"><a href="#Step-5：设置密码（长一点，乱一点）" class="headerlink" title="Step 5：设置密码（长一点，乱一点）"></a>Step 5：设置密码（长一点，乱一点）</h4><p>很快，它会问你要设置一个密码，大概长这样：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入连接密码:</span><br></pre></td></tr></table></figure>

<p>这里你可以随便敲一串字符：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Neu_Hy2_LaJiWangLu_666!!</span><br></pre></td></tr></table></figure>

<p>然后回车。</p>
<ul>
<li>不强制你记住，<strong>忘了也没事</strong>，后面可以在配置文件里再看。</li>
<li>但请尽量：<ul>
<li>长一点</li>
<li>混合大小写字母、数字、符号</li>
<li>不要用 <code>123456</code> 这种糊弄人的密码</li>
</ul>
</li>
</ul>
<blockquote>
<p>对应你的提示：  </p>
<blockquote>
<p>密码，随便填，忘了也没事，足够长就行</p>
</blockquote>
</blockquote>
<hr>
<h4 id="Step-6：混淆域名（不想填就用-bing）"><a href="#Step-6：混淆域名（不想填就用-bing）" class="headerlink" title="Step 6：混淆域名（不想填就用 bing）"></a>Step 6：混淆域名（不想填就用 bing）</h4><p>再往下，它会问你：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入用于混淆的域名（默认 www.bing.com）:</span><br></pre></td></tr></table></figure>

<p>这里有三种打法：</p>
<ol>
<li><p>按回车，直接用默认：  </p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（直接回车）</span><br></pre></td></tr></table></figure>
</li>
<li><p>手动输入一个正常网站域名，比如：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.bing.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>你也可以用其他常见大厂域名，比如：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">www.microsoft.com</span><br><span class="line">www.cloudflare.com</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>对应你的说明：  </p>
<blockquote>
<p>混淆的网址，默认也行，或者就 bing</p>
</blockquote>
</blockquote>
<p>填完回车，脚本会继续执行，开始自动安装 Hysteria 2，<br>期间会下载二进制、生成证书、写配置文件、注册 systemd 服务等一条龙操作。</p>
<p>此时你可以选择：  </p>
<ul>
<li>盯着终端里绿油油的 OK  </li>
<li>或者起身去倒杯水，给自己一点仪式感</li>
</ul>
<hr>
<h3 id="4-4-安装完成：这就是你的“通行证”"><a href="#4-4-安装完成：这就是你的“通行证”" class="headerlink" title="4.4 安装完成：这就是你的“通行证”"></a>4.4 安装完成：这就是你的“通行证”</h3><p>当脚本欢快地跑完之后，一般会输出一段类似这样的东西（示意）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">====== Hysteria 2 已安装完成 ======</span><br><span class="line"></span><br><span class="line">服务器地址（server）：2400:6180:0:d0::abcd:1234</span><br><span class="line">端口（port）：11451</span><br><span class="line">密码（password）：@Neu_Hy2_LaJiWangLu_666!!</span><br><span class="line">指纹（fingerprint）：SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">协议：hysteria2</span><br><span class="line">配置文件路径：/root/hy/hy-server.yaml</span><br><span class="line">客户端模板：/root/hy/hy-client.yaml</span><br><span class="line"></span><br><span class="line">请妥善保存以上信息，用于客户端配置。</span><br></pre></td></tr></table></figure>

<p>这段输出就是你后面在 Clash Verge Rev 里要抄的全部家底：</p>
<ul>
<li><strong>IPv6 地址</strong>（必须带方括号 <code>[ ]</code> 使用）</li>
<li><strong>端口</strong></li>
<li><strong>密码</strong></li>
<li><strong>指纹（fingerprint）</strong></li>
</ul>
<p>建议立刻做三件事：</p>
<ol>
<li>把这段信息<strong>复制到本地记事本</strong> &#x2F; Obsidian &#x2F; Notion 存起来  </li>
<li>截一张 SSH 窗口的截图  </li>
<li>心里默念一句：<strong>“管你计费系统几层套娃，反正你看不到我”</strong></li>
</ol>
<hr>
<h3 id="4-5-忘记配置怎么办？别慌，nano-救你"><a href="#4-5-忘记配置怎么办？别慌，nano-救你" class="headerlink" title="4.5 忘记配置怎么办？别慌，nano 救你"></a>4.5 忘记配置怎么办？别慌，<code>nano</code> 救你</h3><p>人总有手滑的时候：终端一关，刚刚那堆配置输出就没了。<br>没关系，脚本早就帮你把配置文件存在服务器本地了。</p>
<p>如果你想重新查看（尤其是客户端模板配置），在终端中执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /root/hy/hy-client.yaml</span><br></pre></td></tr></table></figure>

<blockquote>
<p>对应你的原话：  </p>
<blockquote>
<p>这就是我们的配置信息了，如果你忘记了配置信息，可以用<br><code>nano /root/hy/hy-client.yaml</code><br>的指令来重新查看。<br>重新打开就像这样：</p>
</blockquote>
</blockquote>
<p>执行后，你会进入一个文本编辑器界面，内容大概是这样的（示意，不是你真实的配置）：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span> <span class="number">2400</span><span class="string">:6180:0:d0::abcd:1234</span></span><br><span class="line"><span class="attr">port:</span> <span class="number">11451</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">&quot;@Neu_Hy2_LaJiWangLu_666!!&quot;</span></span><br><span class="line"><span class="attr">obfs:</span> <span class="string">salamander</span></span><br><span class="line"><span class="attr">obfs-password:</span> <span class="string">&quot;xxxxxx&quot;</span></span><br><span class="line"><span class="attr">auth:</span> <span class="string">&quot;...&quot;</span> </span><br><span class="line"><span class="attr">fingerprint:</span> <span class="string">&quot;SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span></span><br><span class="line"><span class="attr">alpn:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">h3</span></span><br><span class="line"><span class="attr">bandwidth:</span></span><br><span class="line">  <span class="attr">up:</span> <span class="number">50</span> <span class="string">Mbps</span></span><br><span class="line">  <span class="attr">down:</span> <span class="number">500</span> <span class="string">Mbps</span></span><br></pre></td></tr></table></figure>

<h4 id="nano-的基本操作（3-个键就够用）"><a href="#nano-的基本操作（3-个键就够用）" class="headerlink" title="nano 的基本操作（3 个键就够用）"></a><code>nano</code> 的基本操作（3 个键就够用）</h4><ul>
<li><p><strong>上下左右方向键</strong>：移动光标浏览</p>
</li>
<li><p><strong>不想改，只是看看</strong>：<br>直接按：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl + X</span><br></pre></td></tr></table></figure>

<p>就能退出。</p>
</li>
<li><p>如果你不小心改了东西，它会问你：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Save modified buffer (ANSWERING &quot;No&quot; WILL DESTROY CHANGES) ?</span><br><span class="line"> Y Yes</span><br><span class="line"> N No</span><br><span class="line"> C Cancel</span><br></pre></td></tr></table></figure>

<p>你可以：</p>
<ul>
<li>按 <code>N</code>：不保存修改，原样退出</li>
<li>按 <code>Y</code>：保存修改，然后回车确认文件名</li>
</ul>
</li>
</ul>
<hr>
<h2 id="第五章-客户端落地：Clash-Verge-Rev-把隧道“接到你电脑上”"><a href="#第五章-客户端落地：Clash-Verge-Rev-把隧道“接到你电脑上”" class="headerlink" title="第五章 客户端落地：Clash Verge Rev 把隧道“接到你电脑上”"></a>第五章 客户端落地：Clash Verge Rev 把隧道“接到你电脑上”</h2><p>前一章我们已经在远方的 VPS 上架好了“黑洞中转站”，<br>这一章要做的事就一句话：</p>
<blockquote>
<p>把那台服务器，优雅地接入你的电脑，让所有该免流的流量都钻进 IPv6 隧道里。</p>
</blockquote>
<p>这里依旧贯彻一个宗旨：<strong>不折腾花活，只把关键地方讲清楚。</strong></p>
<p>本章以 <strong>Clash Verge Rev</strong> 为例（后文简称 CVR）。<br>如果你还没下载，可以去它的 GitHub Release 页面按自己系统版本下一个：</p>
<ul>
<li>Windows &#x2F; macOS 均支持</li>
<li>ARM Mac（M1 &#x2F; M2 &#x2F; M3）也有专门的版本</li>
</ul>
<hr>
<h3 id="5-1-初次上手：Clash-Verge-Rev-基础设置"><a href="#5-1-初次上手：Clash-Verge-Rev-基础设置" class="headerlink" title="5.1 初次上手：Clash Verge Rev 基础设置"></a>5.1 初次上手：Clash Verge Rev 基础设置</h3><p>第一次打开 Clash Verge Rev，先别急着导入配置，我们先把“底层开关”拨对。</p>
<h4 id="5-1-1-打开设置面板"><a href="#5-1-1-打开设置面板" class="headerlink" title="5.1.1 打开设置面板"></a>5.1.1 打开设置面板</h4><ol>
<li>启动 CVR</li>
<li>左侧菜单点一下 <strong>「设置」</strong>（齿轮图标）</li>
<li>你会看到一堆选项，大概类似你截图里的那个界面：</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/verge1.png" class="" title="verge设置">
<p>重点关注几个地方：</p>
<h4 id="①-Clash-内核：必须是-Mihomo-Meta"><a href="#①-Clash-内核：必须是-Mihomo-Meta" class="headerlink" title="① Clash 内核：必须是 Mihomo &#x2F; Meta"></a>① Clash 内核：必须是 Mihomo &#x2F; Meta</h4><ul>
<li>找到「内核」或「Core」相关选项</li>
<li>确保显示的是 <strong>Mihomo &#x2F; Meta</strong>（有的版本叫 Meta 核心）</li>
<li>如果旁边有下载按钮，点一下让它自动下载安装</li>
</ul>
<blockquote>
<p>没这个内核，Hysteria2 就算配置得再好，也启动不了。</p>
</blockquote>
<h4 id="②-开启-IPv6-支持（非常关键）"><a href="#②-开启-IPv6-支持（非常关键）" class="headerlink" title="② 开启 IPv6 支持（非常关键）"></a>② 开启 IPv6 支持（非常关键）</h4><ul>
<li>在「常规设置 &#x2F; 网络设置」里找到类似：<ul>
<li><code>启用 IPv6</code> &#x2F; <code>IPv6 Support</code> &#x2F; <code>Prefer IPv6</code> 之类的选项</li>
</ul>
</li>
<li>勾上它</li>
</ul>
<blockquote>
<p>你用的是 <strong>IPv6 入口的隧道</strong>，<br>客户端如果“不认 IPv6”，那相当于你在 IPv4 世界里对着空气大喊。</p>
</blockquote>
<h4 id="③-端口和模式（保持默认即可）"><a href="#③-端口和模式（保持默认即可）" class="headerlink" title="③ 端口和模式（保持默认即可）"></a>③ 端口和模式（保持默认即可）</h4><ul>
<li>HTTP 代理端口：一般默认 <code>7890</code></li>
<li>SOCKS 端口：一般默认 <code>7891</code></li>
<li>这些我们在 YAML 里也填了同样的端口，<strong>正常情况下别改</strong>，你是第一次用就按默认来，不会出错。</li>
</ul>
<hr>
<h3 id="5-2-导入我们手搓好的-YAML-配置"><a href="#5-2-导入我们手搓好的-YAML-配置" class="headerlink" title="5.2 导入我们手搓好的 YAML 配置"></a>5.2 导入我们手搓好的 YAML 配置</h3><p>前一章你已经在服务器上拿到了配置信息，然后在本地编辑器里写了一个类似这样的配置文件：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxies:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;NEU_IPv6_Hy2&quot;</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">hysteria2</span></span><br><span class="line">    <span class="attr">server:</span> <span class="string">&quot;[2400:6180:0:d0::xxxx:xxxx]&quot;</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">11451</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">&quot;你的密码&quot;</span></span><br><span class="line">    <span class="attr">fingerprint:</span> <span class="string">&quot;你的指纹&quot;</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line"><span class="attr">proxy-groups:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;节点选择&quot;</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">select</span></span><br><span class="line">    <span class="attr">proxies:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;NEU_IPv6_Hy2&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DIRECT</span></span><br><span class="line"></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,neu.edu.cn,DIRECT</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,neu.edu,DIRECT</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">IP-CIDR,202.118.0.0/16,DIRECT</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">GEOIP,CN,DIRECT</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">MATCH,节点选择</span></span><br></pre></td></tr></table></figure>

<p>假设你已经把这个文件保存在本地，叫：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NEU_Hysteria2.yaml</span><br></pre></td></tr></table></figure>

<p>接下来，我们要把它拖进 Clash Verge Rev。</p>
<h4 id="5-2-1-导入本地配置文件"><a href="#5-2-1-导入本地配置文件" class="headerlink" title="5.2.1 导入本地配置文件"></a>5.2.1 导入本地配置文件</h4><ol>
<li>打开 CVR</li>
<li>左侧点击 <strong>「配置」</strong> 或 <strong>「订阅」</strong> 标签页</li>
<li>找到一个类似「导入配置 &#x2F; 从本地导入」的区域</li>
</ol>
<p>这时候你可以直接：</p>
<blockquote>
<p>把刚刚写好的 <code>NEU_Hysteria2.yaml</code> 文件<br>从桌面 &#x2F; 资源管理器里 <strong>拖到软件窗口里</strong></p>
</blockquote>
<p>松手之后，你会在列表里看到一个新的配置条目，上面写着你文件名（或你写在 YAML 顶部的 <code>profile</code> 名称）。</p>
<p>右键这个配置，检查一下是否有类似：</p>
<ul>
<li>启用 &#x2F; 设为当前配置</li>
<li>编辑文件</li>
</ul>
<p>先点 <strong>启用 &#x2F; 使用该配置</strong>，让 CVR 切换到这份我们写好的 YAML。</p>
<hr>
<h3 id="5-3-代理页面：看到你的服务器上线"><a href="#5-3-代理页面：看到你的服务器上线" class="headerlink" title="5.3 代理页面：看到你的服务器上线"></a>5.3 代理页面：看到你的服务器上线</h3><p>启用配置之后：</p>
<ol>
<li>点击左侧 <strong>「代理」</strong> 面板</li>
<li>你应该能看到一个名字叫 <strong>「NEU_IPv6_Hy2」</strong> 的节点<br>（就是我们在 YAML 里给他取的 name）</li>
</ol>
<p>因为我们示例配置里只写了一个节点 + 一个 <code>select</code> 代理组：  </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy-groups:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;节点选择&quot;</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">select</span></span><br><span class="line">    <span class="attr">proxies:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;NEU_IPv6_Hy2&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DIRECT</span></span><br></pre></td></tr></table></figure>

<p>所以：</p>
<ul>
<li>「节点选择」这个组里只有两个选项：<ul>
<li><code>NEU_IPv6_Hy2</code></li>
<li><code>DIRECT</code></li>
</ul>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/verge2.png" class="" title="verge设置">

<p>你可以：</p>
<ol>
<li>点击一下 <code>NEU_IPv6_Hy2</code>，让它变成当前选中节点</li>
<li>看看右侧 &#x2F; 上方是否有：<ul>
<li><strong>测速 &#x2F; 延迟测试 &#x2F; Test</strong> 按钮<br>点一下，会帮你对服务器 ping 一下。</li>
</ul>
</li>
</ol>
<p>如果延迟在 50~150ms 左右，说明：</p>
<ul>
<li>你和 VPS 之间的线路还算正常</li>
<li>Hysteria 2 服务端工作正常</li>
<li>校园网的 IPv6 也没抽风</li>
</ul>
<hr>
<h3 id="5-4-真正生效：系统托盘中的“总开关”"><a href="#5-4-真正生效：系统托盘中的“总开关”" class="headerlink" title="5.4 真正生效：系统托盘中的“总开关”"></a>5.4 真正生效：系统托盘中的“总开关”</h3><p>只在 Clash Verge Rev 里选了节点，还不算完。<br>要真正让你的浏览器 &#x2F; 软件走代理，还得把系统代理打开。</p>
<h4 id="5-4-1-规则模式：日常使用推荐组合"><a href="#5-4-1-规则模式：日常使用推荐组合" class="headerlink" title="5.4.1 规则模式：日常使用推荐组合"></a>5.4.1 规则模式：日常使用推荐组合</h4><p>在 Windows 右下角托盘区域，你会看到一个 CVR 图标：</p>
<ol>
<li><p>右键这个图标，会弹出一个菜单：</p>
<ul>
<li>全局</li>
<li>规则</li>
<li>直连</li>
<li>TUN 模式（视版本而定）</li>
<li>开启系统代理 &#x2F; 关闭系统代理</li>
</ul>
</li>
<li><p>推荐日常设置：</p>
<ul>
<li>选择 <strong>「规则模式」</strong></li>
<li>勾选 <strong>「系统代理」</strong></li>
</ul>
</li>
</ol>
<blockquote>
<p>这里的“规则模式”，用的就是我们在 YAML 里写好的那几条规则：  </p>
<ul>
<li>校内网段 &#x2F; 校园域名直连（不走代理，不绕地球）  </li>
<li>其他外网走 Hysteria 2 隧道</li>
</ul>
<p>换句话说：<br><strong>只有该免流的走 IPv6 隧道，不该绕的教务处就老老实实直连。</strong></p>
</blockquote>
<hr>
<h3 id="5-5-TUN-模式：从“浏览器免流”升级到“全局免流”"><a href="#5-5-TUN-模式：从“浏览器免流”升级到“全局免流”" class="headerlink" title="5.5 TUN 模式：从“浏览器免流”升级到“全局免流”"></a>5.5 TUN 模式：从“浏览器免流”升级到“全局免流”</h3><p>默认只开系统代理时，走代理的通常是：</p>
<ul>
<li>浏览器（Chrome &#x2F; Edge &#x2F; Firefox）</li>
<li>尊重系统代理设置的软件</li>
</ul>
<p>但还有一类软件：</p>
<ul>
<li>命令行工具（如 <code>pip</code>, <code>git</code>, <code>wget</code>）</li>
<li>某些国产客户端（直接绕过系统代理）</li>
<li>游戏启动器 &#x2F; 下载器</li>
</ul>
<p>这些家伙根本不鸟系统代理设置，<br>这时就要祭出 Clash 的大杀器：<strong>TUN 模式</strong>。</p>
<h4 id="5-5-1-打开-TUN-模式"><a href="#5-5-1-打开-TUN-模式" class="headerlink" title="5.5.1 打开 TUN 模式"></a>5.5.1 打开 TUN 模式</h4><p>在 Clash Verge Rev 里，一般有两种入口：</p>
<ol>
<li>在软件内「设置」中找到 TUN 选项，勾选 “启用 TUN”</li>
<li>或者在系统托盘里右键图标，有单独的 “TUN 模式” 勾选项</li>
</ol>
<p>勾上之后，Clash 会在本地创建一个虚拟网卡：</p>
<blockquote>
<p>所有数据包统统先经过 Clash，再根据规则决定：</p>
<ul>
<li>走直连</li>
<li>走 Hysteria2 代理</li>
</ul>
</blockquote>
<p>这样一来：</p>
<ul>
<li>浏览器流量走免流</li>
<li>命令行 <code>pip install</code> 也走免流</li>
<li>Steam &#x2F; Epic 下载也能走隧道<br> （顺便躲一躲校园网各种神秘 QoS）</li>
</ul>
<blockquote>
<p>对应你的原话：</p>
<blockquote>
<p>这样就连命令行都走的免流，妈妈再也不用担心我下载 python 包超时啦。</p>
</blockquote>
</blockquote>
<hr>
<h3 id="5-6-验证免流效果：不是心理安慰，而是实打实测出来的"><a href="#5-6-验证免流效果：不是心理安慰，而是实打实测出来的" class="headerlink" title="5.6 验证免流效果：不是心理安慰，而是实打实测出来的"></a>5.6 验证免流效果：不是心理安慰，而是实打实测出来的</h3><h4 id="5-6-1-用-Clash-内置测试"><a href="#5-6-1-用-Clash-内置测试" class="headerlink" title="5.6.1 用 Clash 内置测试"></a>5.6.1 用 Clash 内置测试</h4><p>在 CVR 的 <strong>「测试 &#x2F; 测试面板」</strong> 里，通常有：</p>
<ul>
<li>延迟测试</li>
<li>下载速度测试</li>
<li>节点可用性测试</li>
</ul>
<p>你可以随便点一个速度 &#x2F; 连通性测试，看 Hysteria2 节点是否稳定。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/verge3.png" class="" title="verge设置">

<h4 id="5-6-2-用网站确认-IPv6-出口"><a href="#5-6-2-用网站确认-IPv6-出口" class="headerlink" title="5.6.2 用网站确认 IPv6 出口"></a>5.6.2 用网站确认 IPv6 出口</h4><p>打开浏览器，访问：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://test-ipv6.com/">IPv6 测试网站 test-ipv6</a></li>
</ul>
<p>观察页面上显示的：</p>
<ul>
<li>你的 IPv4 地址</li>
<li>你的 IPv6 地址</li>
<li>优先使用的是哪一个</li>
</ul>
<p>在理想情况下，你会看到：</p>
<ul>
<li>能够成功访问 IPv6</li>
<li>对外“出口 IP”是你 VPS 的地址（或你运营商 NAT 后的 IPv6）</li>
</ul>
<p>这说明：</p>
<blockquote>
<p>你的所有 HTTP(S) 请求，<br>已经通过 Hysteria2 隧道从 IPv6 出口出去了。</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2025/11/21/2025-11-21-neu-ipv6-guide/verge4.png" class="" title="verge设置">

<h4 id="5-6-3-最关键的一步：看校园网计费后台"><a href="#5-6-3-最关键的一步：看校园网计费后台" class="headerlink" title="5.6.3 最关键的一步：看校园网计费后台"></a>5.6.3 最关键的一步：看校园网计费后台</h4><ul>
<li>登录学校的校园网自助管理 &#x2F; 流量查询系统</li>
<li>开着 4K YouTube &#x2F; B 站 &#x2F; Steam 下载器跑几分钟</li>
<li>刷新页面，观察“本月已用流量”</li>
</ul>
<p>如果你只开启了：</p>
<ul>
<li>Clash 规则 &#x2F; TUN 模式</li>
<li>不在本机上同时开别的直连下载</li>
</ul>
<p>但<strong>计费系统的流量几乎不动</strong>（或者只涨一点点心跳值），<br>那就只剩一个解释：</p>
<blockquote>
<p>计费系统只能看到你那点 IPv4 心跳流量，<br>真正吃带宽的是 IPv6 那条 Hysteria2 隧道，<br>而 <strong>IPv6 在计费系统眼里 ≈ 透明人</strong>。</p>
</blockquote>
<p>此时你就可以掏出一本《计算机网络》，<br>翻到 IPv4 &#x2F; IPv6 计费架构那一章，心平气和地补一页读后感了。</p>
<hr>
<h3 id="5-7-小结：你现在已经拥有了什么？"><a href="#5-7-小结：你现在已经拥有了什么？" class="headerlink" title="5.7 小结：你现在已经拥有了什么？"></a>5.7 小结：你现在已经拥有了什么？</h3><p>到第五章结束，你已经：</p>
<ol>
<li>正确装好了 Clash Verge Rev + Meta 核心</li>
<li>启用了 IPv6 支持</li>
<li>导入并启用了你自己写的 Hysteria2 YAML 配置</li>
<li>能在「代理」面板里看到 <code>NEU_IPv6_Hy2</code> 并正常测试延迟</li>
<li>学会了：<ul>
<li>用 <strong>规则模式 + 系统代理</strong> 进行日常免流</li>
<li>用 <strong>TUN 模式</strong> 把所有程序都塞进隧道里</li>
</ul>
</li>
<li>会用 <a target="_blank" rel="noopener" href="https://test-ipv6.com/">test-ipv6.com</a> 和学校计费后台，实打实验证免流效果</li>
</ol>
<blockquote>
<p>换句话说：</p>
<p>你已经不只是一个“会连校园网的人”，<br>而是一个能熟练驾驭 <strong>IPv6 隧道 + QUIC 协议 + 本地代理栈</strong> 的<br>——合格网络炼金术学徒。</p>
</blockquote>
<p>现在，你已经学会了校园网 IPv6 免流的完整闭环：  </p>
<ul>
<li><strong>第 1 章</strong>：知道为什么这玩意能免流  </li>
<li><strong>第 2 章</strong>：知道去哪弄一台“外面的服务器”  </li>
<li><strong>第 4 章</strong>：会在 VPS 上一键装 Hysteria2  </li>
<li><strong>第 5 章</strong>：会在本机用 Clash Verge Rev 把隧道接起来</li>
</ul>
<p>接下来要做的事情，就一句话：</p>
<blockquote>
<p>找个你平时最爱刷的网站 &#x2F; 最爱下的游戏，<br>打开 TUN + 规则模式，<br>一边爽用，一边默默祈祷：<br><strong>“愿网管永远懒得给 IPv6 上计费脚本。”</strong></p>
</blockquote>
<p>（以上内容仅供技术学习与协议研究使用，请务必遵守校园网使用条例与相关法律法规。）</p>
<h2 id="第六章-常见问题-FAQ"><a href="#第六章-常见问题-FAQ" class="headerlink" title="第六章 常见问题 (FAQ)"></a>第六章 常见问题 (FAQ)</h2><details class="toggle" ><summary class="toggle-button" style="">我配置完了，但是完全连不上？</summary><div class="toggle-content"><ol>
<li><strong>检查时间</strong>：Hysteria 2 对时间非常敏感，请确保电脑和服务器的时间误差在 15 秒以内。</li>
<li><strong>检查防火墙</strong>：服务器提供商（如 RackNerd）的后台控制面板里是否放行了 UDP 端口？服务器内部的 <code>ufw</code> 是否放行了？</li>
<li><strong>检查 IPv6</strong>：你的寝室网口真的有 IPv6 吗？在 CMD 输入 <code>ipconfig</code> 看看有没有 IPv6 地址。</li>
</ol>
</div></details>

<details class="toggle" ><summary class="toggle-button" style="">速度很快，但是玩游戏跳 ping？</summary><div class="toggle-content"><p>Hysteria 2 是基于 UDP 的，虽然暴力，但对游戏这种对抖动敏感的应用不太友好。建议游戏时关闭系统代理，使用专业的游戏加速器（通常走 Netch 模式），或者在规则里把游戏域名直连。</p>
</div></details>

<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>配置完这一切，看着 Clash 面板上跳动的速率，你可能会有一种战胜了体制的快感。但这不仅仅是为了省那几十块钱网费。在这个过程中，你学会了 Linux 基础、理解了 TCP&#x2F;UDP 的区别、搞懂了证书体系。这些知识，比你在《计算机网络》课上睡一觉学到的要多得多。</p>
<p><strong>Keep calm and carry on, but don’t get caught.</strong></p>
<p><em>(最后更新于 2025年11月，若学校修补漏洞，本教程原地自爆)</em></p>
<hr>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ol>
<li>东北大学. (2010). 六维空间吸引用户- IPv6校园网. <a target="_blank" rel="noopener" href="https://www.edu.cn/xxh/ji_shu_ju_le_bu/cernet2_lpv6/IPv6_xyw/201008/t20100810_506541.shtml">https://www.edu.cn/xxh/ji_shu_ju_le_bu&#x2F;cernet2_lpv6&#x2F;IPv6_xyw&#x2F;201008&#x2F;t20100810_506541.shtml</a></li>
<li>Hysteria Network. (2024). Full Client Config - Hysteria 2. <a target="_blank" rel="noopener" href="https://v2.hysteria.network/docs/advanced/Full-Client-Config/">https://v2.hysteria.network/docs/advanced/Full-Client-Config/</a></li>
<li>MetaCubeX. (2024). Hysteria2 - 虚空终端Docs. <a target="_blank" rel="noopener" href="https://wiki.metacubex.one/config/proxies/hysteria2/">https://wiki.metacubex.one/config/proxies/hysteria2/</a></li>
<li>Hysteria Network. (2024). Installation - Hysteria 2. <a target="_blank" rel="noopener" href="https://v2.hysteria.network/docs/getting-started/Installation/">https://v2.hysteria.network/docs/getting-started/Installation/</a></li>
<li>GitHub Community. (2023). Problem in providing the proof for Student Developer Pack #56401. <a target="_blank" rel="noopener" href="https://github.com/orgs/community/discussions/56401">https://github.com/orgs/community/discussions/56401</a></li>
<li>GitHub Docs. (2024). Solving problems with your GitHub Education access. <a target="_blank" rel="noopener" href="https://docs.github.com/en/education/about-github-education/github-education-for-students/solving-problems-with-your-github-education-access">https://docs.github.com/en/education/about-github-education/github-education-for-students/solving-problems-with-your-github-education-access</a></li>
<li>fredroo. (2024). DigitalOcean Promo Code 2026 - GitHub Gist. <a target="_blank" rel="noopener" href="https://gist.github.com/fredroo/4d4046cbe92f80ba5fc66ebe50bad860">https://gist.github.com/fredroo/4d4046cbe92f80ba5fc66ebe50bad860</a></li>
<li>DigitalOcean Docs. (2024). How to Manage Payment Methods on DigitalOcean. <a target="_blank" rel="noopener" href="https://docs.digitalocean.com/platform/billing/manage-payment-methods/">https://docs.digitalocean.com/platform/billing/manage-payment-methods/</a></li>
<li>LowEndTalk. (2021). DigitalOcean locked my account immediately after paying. <a target="_blank" rel="noopener" href="https://lowendtalk.com/discussion/165974/digitalocean-locked-my-account-immediately-after-paying">https://lowendtalk.com/discussion/165974/digitalocean-locked-my-account-immediately-after-paying</a></li>
<li>DigitalOcean Docs. (2024). Promo Codes. <a target="_blank" rel="noopener" href="https://docs.digitalocean.com/platform/billing/promo-codes/">https://docs.digitalocean.com/platform/billing/promo-codes/</a></li>
<li>Reddit. (2016). Digital Ocean Promo Code. <a target="_blank" rel="noopener" href="https://www.reddit.com/r/LinuxActionShow/comments/48h3tr/digital_ocean_promo_code/">https://www.reddit.com/r/LinuxActionShow/comments/48h3tr/digital_ocean_promo_code&#x2F;</a></li>
<li>DigitalOcean Docs. (2024). What do I do if my account was locked during sign-up? <a target="_blank" rel="noopener" href="https://docs.digitalocean.com/support/what-do-i-do-if-my-account-was-locked-during-sign-up/">https://docs.digitalocean.com/support/what-do-i-do-if-my-account-was-locked-during-sign-up/</a></li>
<li>Reddit. (2021). Digital Ocean locked my account upon creation without explanation. <a target="_blank" rel="noopener" href="https://www.reddit.com/r/digital_ocean/comments/que3ef/digital_ocean_locked_my_account_upon_creation/">https://www.reddit.com/r/digital_ocean&#x2F;comments&#x2F;que3ef&#x2F;digital_ocean_locked_my_account_upon_creation&#x2F;</a></li>
<li>Reddit. (2018). Digital ocean locked my account with no reason. <a target="_blank" rel="noopener" href="https://www.reddit.com/r/digital_ocean/comments/7zpg64/digital_ocean_locked_my_account_with_no_reason/">https://www.reddit.com/r/digital_ocean&#x2F;comments&#x2F;7zpg64&#x2F;digital_ocean_locked_my_account_with_no_reason&#x2F;</a></li>
<li>Clash Verge Rev. (2024). A modern GUI client based on Tauri. <a target="_blank" rel="noopener" href="https://github.com/clash-verge-rev/clash-verge-rev">https://github.com/clash-verge-rev/clash-verge-rev</a></li>
<li>Lainbo’s Blog. (2024). Clash Verge Series Best Practices. <a target="_blank" rel="noopener" href="http://lainbo.dev/clash-config?locale=en">http://lainbo.dev/clash-config?locale=en</a></li>
<li>HOLYTECH. (2024). Set Up Clash Verge on Windows. <a target="_blank" rel="noopener" href="https://store.holytech.tech/knowledgebase.php?action=displayarticle&id=72">https://store.holytech.tech/knowledgebase.php?action=displayarticle&amp;id=72</a></li>
<li>zzzgydi. (2023). Import merge profile from local files · Issue #760. <a target="_blank" rel="noopener" href="https://github.com/zzzgydi/clash-verge/issues/760">https://github.com/zzzgydi/clash-verge/issues/760</a></li>
<li>Clash Rev Docs. (2024). Hysteria2 Configuration. <a target="_blank" rel="noopener" href="https://merlinkodo.github.io/Clash-Rev-Doc/config/proxies/hysteria2/">https://merlinkodo.github.io/Clash-Rev-Doc/config/proxies/hysteria2/</a></li>
<li>Hysteria Network. (2024). Full Server Config. <a target="_blank" rel="noopener" href="https://v2.hysteria.network/docs/advanced/Full-Server-Config/">https://v2.hysteria.network/docs/advanced/Full-Server-Config/</a></li>
</ol>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/1.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/1.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">JianFang</div><div class="post-copyright__author_desc">记录编程与生活</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/')">校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/images/qrcode-wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/images/qrcode-alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=undefined&amp;url=https://edu-cloud.tech/2025/11/21/2025-11-21-neu-ipv6-guide/&amp;pic=undefined" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://edu-cloud.tech" target="_blank">防微杜渐的博客</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>教程<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/NEU/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>NEU<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/IPv6/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>IPv6<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/%E5%85%8D%E6%B5%81/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>免流<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/Hysteria2/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Hysteria2<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/images/guangying.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/11/19/2025-11-19-hexo-anzhiyu-setup-detailed/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/huolishaonv.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）</div></div></a></div><div class="next-post pull-right"><a href="/2025/11/21/2025-11-21-neu-booking-bot/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/yunxiao.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">东北大学（NEU）羽毛球场地预约工具详解</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/11/21/2025-11-21-neu-booking-bot/" title="东北大学（NEU）羽毛球场地预约工具详解"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/yunxiao.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-11-21</div><div class="title">东北大学（NEU）羽毛球场地预约工具详解</div></div></a></div><div><a href="/2025/11/19/2025-11-19-hexo-anzhiyu-setup-detailed/" title="用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/huolishaonv.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-11-19</div><div class="title">用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">这是一个由 Hexo 搭建的个人博客，记录技术笔记与随笔。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">JianFang</h1><div class="author-info__desc">记录编程与生活</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/1298786483" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://v.douyin.com/hgA8x3viSqg" target="_blank" title="Douyin"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=1298786483@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80%EF%BC%9A%E5%85%B3%E4%BA%8E%E7%99%BD%E5%AB%96%E7%9A%84%E8%89%BA%E6%9C%AF%E4%B8%8E%E7%A7%91%E5%AD%A6"><span class="toc-number">1.</span> <span class="toc-text">前言：关于白嫖的艺术与科学</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E7%8E%AF%E5%A2%83%E4%BE%A6%E5%AF%9F%EF%BC%9A%E5%AF%BB%E6%89%BE%E9%82%A3%E4%B8%AA%E8%A2%AB%E4%B8%8A%E5%B8%9D%E9%81%97%E5%BF%98%E7%9A%84%E5%90%8E%E9%97%A8"><span class="toc-number">2.</span> <span class="toc-text">第一章 环境侦察：寻找那个被上帝遗忘的后门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%EF%BC%9ACERNET-%E7%9A%84%E9%A6%88%E8%B5%A0"><span class="toc-number">2.1.</span> <span class="toc-text">1.1 理论基础：CERNET 的馈赠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%B5%84%E6%A0%BC%E5%AE%A1%E6%9F%A5%EF%BC%9A%E9%AA%8C%E8%AF%81%E4%BD%A0%E7%9A%84%E2%80%9C%E5%81%B7%E6%B8%A1%E2%80%9D%E8%B5%84%E6%A0%BC"><span class="toc-number">2.2.</span> <span class="toc-text">1.2 资格审查：验证你的“偷渡”资格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%86%9B%E7%81%AB%E9%87%87%E8%B4%AD%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88VPS%EF%BC%89%E7%9A%84%E9%80%89%E6%8B%A9%E4%B8%8E%E9%81%BF%E5%9D%91"><span class="toc-number">3.</span> <span class="toc-text">第二章 军火采购：服务器（VPS）的选择与避坑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-DigitalOcean-%E6%B3%A8%E5%86%8C%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 DigitalOcean 注册避坑指南</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">3.1.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">3.1.2.</span> <span class="toc-text">注册流程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%88%9B%E5%BB%BA%E4%BA%91%E4%B8%BB%E6%9C%BA%EF%BC%9A%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E4%B8%93%E5%B1%9E%E5%9F%BA%E7%AB%99"><span class="toc-number">4.</span> <span class="toc-text">第三章 创建云主机：打造你的专属基站</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%90%AF%E5%8A%A8-Droplet"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 启动 Droplet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%85%B3%E9%94%AE%E9%85%8D%E7%BD%AE%EF%BC%88%E4%B8%80%E6%AD%A5%E9%83%BD%E4%B8%8D%E8%83%BD%E9%94%99%EF%BC%89"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 关键配置（一步都不能错）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%AA%8C%E8%B4%A7%E4%B8%8E%E8%BF%9E%E6%8E%A5%EF%BC%9A%E5%88%AB%E6%80%A5%E7%9D%80%E9%83%A8%E7%BD%B2"><span class="toc-number">4.3.</span> <span class="toc-text">3.3 验货与连接：别急着部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%83%A8%E7%BD%B2%EF%BC%9A%E4%BB%8E%E8%A3%B8%E6%9C%BA%E5%88%B0%E2%80%9C%E9%BB%91%E6%B4%9E%E4%B8%AD%E8%BD%AC%E7%AB%99%E2%80%9D"><span class="toc-number">5.</span> <span class="toc-text">第四章 服务端部署：从裸机到“黑洞中转站”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-0-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%EF%BC%9A%E7%A1%AE%E8%AE%A4%E4%BD%A0%E7%9C%9F%E7%9A%84%E6%98%AF%E2%80%9C%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E2%80%9D"><span class="toc-number">5.1.</span> <span class="toc-text">4.0 准备工作：确认你真的是“在服务器上”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E9%A6%96%E6%AC%A1%E7%99%BB%E9%99%86%E5%BF%85%E4%BF%AE%E8%AF%BE%EF%BC%9A%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F-%E5%AE%89%E8%A3%85%E5%9F%BA%E7%A1%80%E5%B7%A5%E5%85%B7"><span class="toc-number">5.2.</span> <span class="toc-text">4.1 首次登陆必修课：更新系统 &amp; 安装基础工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E4%B8%A4%E6%9D%A1%E5%91%BD%E4%BB%A4%E5%9C%A8%E5%B9%B2%E5%98%9B%EF%BC%9F"><span class="toc-number">5.2.1.</span> <span class="toc-text">这两条命令在干嘛？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85-Hysteria-2%EF%BC%9A%E6%87%92%E4%BA%BA%E4%B8%93%E5%B1%9E%E9%80%9A%E5%85%B3%E8%B7%AF%E7%BA%BF"><span class="toc-number">5.3.</span> <span class="toc-text">4.2 一键安装 Hysteria 2：懒人专属通关路线</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E8%A1%8C%E5%88%B0%E5%BA%95%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">5.3.1.</span> <span class="toc-text">这行到底做了什么？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%AE%89%E8%A3%85%E5%90%91%E5%AF%BC%EF%BC%9A%E4%B8%80%E8%B7%AF%E7%8B%82%E6%8C%89-1-%E7%9A%84%E8%89%BA%E6%9C%AF"><span class="toc-number">5.4.</span> <span class="toc-text">4.3 交互式安装向导：一路狂按 1 的艺术</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-1%EF%BC%9A%E9%80%89%E6%8B%A9%E2%80%9C%E5%AE%89%E8%A3%85%E2%80%9D"><span class="toc-number">5.4.1.</span> <span class="toc-text">Step 1：选择“安装”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-2%EF%BC%9A%E9%80%89%E6%8B%A9%E8%AF%81%E4%B9%A6%E7%B1%BB%E5%9E%8B%EF%BC%88%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6%EF%BC%89"><span class="toc-number">5.4.2.</span> <span class="toc-text">Step 2：选择证书类型（自签证书）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-3%EF%BC%9A%E5%A1%AB%E5%86%99%E7%AB%AF%E5%8F%A3%E5%8F%B7%EF%BC%88%E7%88%B1%E5%A4%9A%E5%B0%91%E5%A1%AB%E5%A4%9A%E5%B0%91%EF%BC%89"><span class="toc-number">5.4.3.</span> <span class="toc-text">Step 3：填写端口号（爱多少填多少）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-4%EF%BC%9A%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0%E2%80%94%E2%80%94%E2%80%9C%E9%BB%98%E8%AE%A4%E5%B0%B1%E8%A1%8C%E6%B5%81%E2%80%9D%E9%80%89%E6%89%8B%E4%B8%93%E5%B1%9E"><span class="toc-number">5.4.4.</span> <span class="toc-text">Step 4：其他参数——“默认就行流”选手专属</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-5%EF%BC%9A%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81%EF%BC%88%E9%95%BF%E4%B8%80%E7%82%B9%EF%BC%8C%E4%B9%B1%E4%B8%80%E7%82%B9%EF%BC%89"><span class="toc-number">5.4.5.</span> <span class="toc-text">Step 5：设置密码（长一点，乱一点）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-6%EF%BC%9A%E6%B7%B7%E6%B7%86%E5%9F%9F%E5%90%8D%EF%BC%88%E4%B8%8D%E6%83%B3%E5%A1%AB%E5%B0%B1%E7%94%A8-bing%EF%BC%89"><span class="toc-number">5.4.6.</span> <span class="toc-text">Step 6：混淆域名（不想填就用 bing）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%EF%BC%9A%E8%BF%99%E5%B0%B1%E6%98%AF%E4%BD%A0%E7%9A%84%E2%80%9C%E9%80%9A%E8%A1%8C%E8%AF%81%E2%80%9D"><span class="toc-number">5.5.</span> <span class="toc-text">4.4 安装完成：这就是你的“通行证”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E5%BF%98%E8%AE%B0%E9%85%8D%E7%BD%AE%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F%E5%88%AB%E6%85%8C%EF%BC%8Cnano-%E6%95%91%E4%BD%A0"><span class="toc-number">5.6.</span> <span class="toc-text">4.5 忘记配置怎么办？别慌，nano 救你</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nano-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%EF%BC%883-%E4%B8%AA%E9%94%AE%E5%B0%B1%E5%A4%9F%E7%94%A8%EF%BC%89"><span class="toc-number">5.6.1.</span> <span class="toc-text">nano 的基本操作（3 个键就够用）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%90%BD%E5%9C%B0%EF%BC%9AClash-Verge-Rev-%E6%8A%8A%E9%9A%A7%E9%81%93%E2%80%9C%E6%8E%A5%E5%88%B0%E4%BD%A0%E7%94%B5%E8%84%91%E4%B8%8A%E2%80%9D"><span class="toc-number">6.</span> <span class="toc-text">第五章 客户端落地：Clash Verge Rev 把隧道“接到你电脑上”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%88%9D%E6%AC%A1%E4%B8%8A%E6%89%8B%EF%BC%9AClash-Verge-Rev-%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE"><span class="toc-number">6.1.</span> <span class="toc-text">5.1 初次上手：Clash Verge Rev 基础设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E6%89%93%E5%BC%80%E8%AE%BE%E7%BD%AE%E9%9D%A2%E6%9D%BF"><span class="toc-number">6.1.1.</span> <span class="toc-text">5.1.1 打开设置面板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-Clash-%E5%86%85%E6%A0%B8%EF%BC%9A%E5%BF%85%E9%A1%BB%E6%98%AF-Mihomo-Meta"><span class="toc-number">6.1.2.</span> <span class="toc-text">① Clash 内核：必须是 Mihomo &#x2F; Meta</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E5%BC%80%E5%90%AF-IPv6-%E6%94%AF%E6%8C%81%EF%BC%88%E9%9D%9E%E5%B8%B8%E5%85%B3%E9%94%AE%EF%BC%89"><span class="toc-number">6.1.3.</span> <span class="toc-text">② 开启 IPv6 支持（非常关键）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E7%AB%AF%E5%8F%A3%E5%92%8C%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%BF%9D%E6%8C%81%E9%BB%98%E8%AE%A4%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-number">6.1.4.</span> <span class="toc-text">③ 端口和模式（保持默认即可）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%AF%BC%E5%85%A5%E6%88%91%E4%BB%AC%E6%89%8B%E6%90%93%E5%A5%BD%E7%9A%84-YAML-%E9%85%8D%E7%BD%AE"><span class="toc-number">6.2.</span> <span class="toc-text">5.2 导入我们手搓好的 YAML 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.1.</span> <span class="toc-text">5.2.1 导入本地配置文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E4%BB%A3%E7%90%86%E9%A1%B5%E9%9D%A2%EF%BC%9A%E7%9C%8B%E5%88%B0%E4%BD%A0%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%BA%BF"><span class="toc-number">6.3.</span> <span class="toc-text">5.3 代理页面：看到你的服务器上线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E7%9C%9F%E6%AD%A3%E7%94%9F%E6%95%88%EF%BC%9A%E7%B3%BB%E7%BB%9F%E6%89%98%E7%9B%98%E4%B8%AD%E7%9A%84%E2%80%9C%E6%80%BB%E5%BC%80%E5%85%B3%E2%80%9D"><span class="toc-number">6.4.</span> <span class="toc-text">5.4 真正生效：系统托盘中的“总开关”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-1-%E8%A7%84%E5%88%99%E6%A8%A1%E5%BC%8F%EF%BC%9A%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E6%8E%A8%E8%8D%90%E7%BB%84%E5%90%88"><span class="toc-number">6.4.1.</span> <span class="toc-text">5.4.1 规则模式：日常使用推荐组合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-TUN-%E6%A8%A1%E5%BC%8F%EF%BC%9A%E4%BB%8E%E2%80%9C%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%8D%E6%B5%81%E2%80%9D%E5%8D%87%E7%BA%A7%E5%88%B0%E2%80%9C%E5%85%A8%E5%B1%80%E5%85%8D%E6%B5%81%E2%80%9D"><span class="toc-number">6.5.</span> <span class="toc-text">5.5 TUN 模式：从“浏览器免流”升级到“全局免流”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-1-%E6%89%93%E5%BC%80-TUN-%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.5.1.</span> <span class="toc-text">5.5.1 打开 TUN 模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-%E9%AA%8C%E8%AF%81%E5%85%8D%E6%B5%81%E6%95%88%E6%9E%9C%EF%BC%9A%E4%B8%8D%E6%98%AF%E5%BF%83%E7%90%86%E5%AE%89%E6%85%B0%EF%BC%8C%E8%80%8C%E6%98%AF%E5%AE%9E%E6%89%93%E5%AE%9E%E6%B5%8B%E5%87%BA%E6%9D%A5%E7%9A%84"><span class="toc-number">6.6.</span> <span class="toc-text">5.6 验证免流效果：不是心理安慰，而是实打实测出来的</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-6-1-%E7%94%A8-Clash-%E5%86%85%E7%BD%AE%E6%B5%8B%E8%AF%95"><span class="toc-number">6.6.1.</span> <span class="toc-text">5.6.1 用 Clash 内置测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-6-2-%E7%94%A8%E7%BD%91%E7%AB%99%E7%A1%AE%E8%AE%A4-IPv6-%E5%87%BA%E5%8F%A3"><span class="toc-number">6.6.2.</span> <span class="toc-text">5.6.2 用网站确认 IPv6 出口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-6-3-%E6%9C%80%E5%85%B3%E9%94%AE%E7%9A%84%E4%B8%80%E6%AD%A5%EF%BC%9A%E7%9C%8B%E6%A0%A1%E5%9B%AD%E7%BD%91%E8%AE%A1%E8%B4%B9%E5%90%8E%E5%8F%B0"><span class="toc-number">6.6.3.</span> <span class="toc-text">5.6.3 最关键的一步：看校园网计费后台</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-%E5%B0%8F%E7%BB%93%EF%BC%9A%E4%BD%A0%E7%8E%B0%E5%9C%A8%E5%B7%B2%E7%BB%8F%E6%8B%A5%E6%9C%89%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">6.7.</span> <span class="toc-text">5.7 小结：你现在已经拥有了什么？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-FAQ"><span class="toc-number">7.</span> <span class="toc-text">第六章 常见问题 (FAQ)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">8.</span> <span class="toc-text">结语</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">9.</span> <span class="toc-text">参考文献</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/11/26/PFC5-0%E5%8D%95%E8%BD%B4%E5%8E%8B%E7%BC%A9%E6%A8%A1%E6%8B%9F%E4%BB%A3%E7%A0%81%EF%BC%88%E5%85%A8%EF%BC%89/" title="PFC5.0 2D单轴压缩模拟全代码分享"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/guangying.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PFC5.0 2D单轴压缩模拟全代码分享"/></a><div class="content"><a class="title" href="/2025/11/26/PFC5-0%E5%8D%95%E8%BD%B4%E5%8E%8B%E7%BC%A9%E6%A8%A1%E6%8B%9F%E4%BB%A3%E7%A0%81%EF%BC%88%E5%85%A8%EF%BC%89/" title="PFC5.0 2D单轴压缩模拟全代码分享">PFC5.0 2D单轴压缩模拟全代码分享</a><time datetime="2025-11-26T04:00:00.000Z" title="发表于 2025-11-26 12:00:00">2025-11-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/21/2025-11-21-neu-booking-bot/" title="东北大学（NEU）羽毛球场地预约工具详解"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/yunxiao.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="东北大学（NEU）羽毛球场地预约工具详解"/></a><div class="content"><a class="title" href="/2025/11/21/2025-11-21-neu-booking-bot/" title="东北大学（NEU）羽毛球场地预约工具详解">东北大学（NEU）羽毛球场地预约工具详解</a><time datetime="2025-11-20T19:57:20.000Z" title="发表于 2025-11-21 03:57:20">2025-11-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/21/2025-11-21-neu-ipv6-guide/" title="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/xiyangyang.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例"/></a><div class="content"><a class="title" href="/2025/11/21/2025-11-21-neu-ipv6-guide/" title="校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例">校园网 IPv6 免流终极指南：从入门到入狱（误）——以东北大学为例</a><time datetime="2025-11-20T19:57:20.000Z" title="发表于 2025-11-21 03:57:20">2025-11-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/2025-11-19-hexo-anzhiyu-setup-detailed/" title="用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/huolishaonv.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）"/></a><div class="content"><a class="title" href="/2025/11/19/2025-11-19-hexo-anzhiyu-setup-detailed/" title="用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）">用 Hexo + Anzhiyu 从零搭建个人博客（超详细步骤）</a><time datetime="2025-11-18T20:32:56.000Z" title="发表于 2025-11-19 04:32:56">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/19/%E6%88%91%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" title="我的个人博客"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/tiananmen.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="我的个人博客"/></a><div class="content"><a class="title" href="/2025/11/19/%E6%88%91%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" title="我的个人博客">我的个人博客</a><time datetime="2025-11-18T16:00:18.000Z" title="发表于 2025-11-19 00:00:18">2025-11-19</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=1298786483@qq.com" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com/u/7558054917" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" href="/atom.xml" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/1.jpg" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/1298786483" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/372204786" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com/hgA8x3viSqg" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC协议"><i class="anzhiyufont anzhiyu-icon-copyright"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" rel="noopener" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" rel="noopener" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" rel="noopener" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">主题</div><div class="footer-links"><a class="footer-item" title="文档" href="/docs/">文档</a><a class="footer-item" title="源码" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">源码</a><a class="footer-item" title="更新日志" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="JianFang" target="_blank">JianFang</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">4</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Anzhiyu/" style="font-size: 0.88rem;">Anzhiyu<sup>1</sup></a><a href="/tags/GitHub-Pages/" style="font-size: 0.88rem;">GitHub Pages<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>1</sup></a><a href="/tags/Hysteria2/" style="font-size: 0.88rem;">Hysteria2<sup>1</sup></a><a href="/tags/IPv6/" style="font-size: 0.88rem;">IPv6<sup>1</sup></a><a href="/tags/NEU/" style="font-size: 0.88rem;">NEU<sup>2</sup></a><a href="/tags/PFC5-0/" style="font-size: 0.88rem;">PFC5.0<sup>1</sup></a><a href="/tags/Python/" style="font-size: 0.88rem;">Python<sup>1</sup></a><a href="/tags/%E5%85%8D%E6%B5%81/" style="font-size: 0.88rem;">免流<sup>1</sup></a><a href="/tags/%E5%8D%95%E8%BD%B4%E5%8E%8B%E7%BC%A9/" style="font-size: 0.88rem;">单轴压缩<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 0.88rem;">教程<sup>3</sup></a><a href="/tags/%E6%95%B0%E5%80%BC%E6%A8%A1%E6%8B%9F/" style="font-size: 0.88rem;">数值模拟<sup>1</sup></a><a href="/tags/%E9%A2%84%E7%BA%A6/" style="font-size: 0.88rem;">预约<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 JianFang 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '907rJ0euGwBPDrRv2Y08AIiA-gzGzoHsz',
      appKey: 'Xtz8AFvdbhboiHPjjKbz7rep',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/blueimp-md5@2.19.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://907rJ0eu.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": '907rJ0euGwBPDrRv2Y08AIiA-gzGzoHsz',
        "X-LC-Key": 'Xtz8AFvdbhboiHPjjKbz7rep',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="/js/click_show_text.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>